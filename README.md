# AI Browser Automation Agent

> –í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ! –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —è –Ω–∞—á–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ Go, –Ω–æ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å —Å–µ—Ä—å–µ–∑–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Å–∞–π—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö–æ—Ç–µ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –∫–∞–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ. –ü–æ—Å–ª–µ –¥–æ–ª–≥–∏—Ö –ø–æ–∏—Å–∫–æ–≤ —Ä–µ—à–µ–Ω–∏–π –∏ –∏–∑—É—á–µ–Ω–∏—è –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (—Ç–∞–∫ –∫–∞–∫ Cursor –Ω–µ –≤—Å–µ–≥–¥–∞ –º–æ–≥ –ø–æ–º–æ—á—å —Å —Ç–∞–∫–∏–º–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏), —è –ø–µ—Ä–µ–ø–∏—Å–∞–ª –ø—Ä–æ–µ–∫—Ç –Ω–∞ Python, —á—Ç–æ –¥–∞–ª–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –±–æ–ª–µ–µ –≥–∏–±–∫—É—é —Ä–∞–±–æ—Ç—É —Å DOM —á–µ—Ä–µ–∑ Chrome DevTools Protocol. –†–µ–∑—É–ª—å—Ç–∞—Ç - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç, —Å–ø–æ—Å–æ–±–Ω—ã–π –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

> üí° **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ MCP**: –í —ç—Ç–æ–º –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ([`agent-mcp`](https://github.com/RomanUsername777/agent-mcp)) –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–µ—Ä—Å–∏—è –∞–≥–µ–Ω—Ç–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Model Context Protocol (MCP). –•–æ—Ç—è —ç—Ç–∞ –≤–µ—Ä—Å–∏—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ —Å–∫–æ—Ä—É—é —Ä—É–∫—É, –æ–Ω–∞ —É—Å–ø–µ—à–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–¥–∞—á–∞–º–∏.

### üöÄ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM** –≤–º–µ—Å—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ (—ç–∫–æ–Ω–æ–º–∏—è ~1s –Ω–∞ —à–∞–≥), **—É—Å–ª–æ–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (—ç–∫–æ–Ω–æ–º–∏—è ~0.5-1.5s –Ω–∞ —à–∞–≥), **–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ DOM** –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—ç–∫–æ–Ω–æ–º–∏—è ~0.3-0.8s –Ω–∞ —à–∞–≥), **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π** (—ç–∫–æ–Ω–æ–º–∏—è ~0.5-2s –Ω–∞ —à–∞–≥), –∏ **–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM** —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM (—ç–∫–æ–Ω–æ–º–∏—è ~1-5s –Ω–∞ —à–∞–≥ –∑–∞ —Å—á–µ—Ç –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ LLM). –í —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —ç—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –¥–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ 40-50% –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π LLM –º–æ–¥–µ–ª–∏.

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π AI-–∞–≥–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –±–æ–ª—å—à–∏–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (LLM) –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á. –ê–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Chrome DevTools Protocol (CDP), –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç DOM –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ü§ñ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π**: –ê–≥–µ–Ω—Ç —Å–∞–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è
- üé® **Vision-–º–æ–¥–µ–ª—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SPA**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ (React, Vue –∏ —Ç.–¥.)
- üíæ **Persistent sessions**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç cookies –∏ localStorage –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- üß© **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ sub-agents**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, EmailSubAgent)
- üîå **–ú—É–ª—å—Ç–∏–ø—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI (GPT-4o, GPT-4o-mini) –∏ Anthropic (Claude Sonnet, Claude Opus)
- üõ°Ô∏è **–ë–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞**: –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤, URL –∏–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üéØ **–£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `is_clickable` –∏–∑ DOMSnapshot –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
core/
‚îú‚îÄ‚îÄ orchestrator/           # –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ manager.py         # –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∞–≥–µ–Ω—Ç–∞ (Plan-and-Execute)
‚îÇ   ‚îú‚îÄ‚îÄ prompts.py         # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
‚îÇ   ‚îú‚îÄ‚îÄ system_prompt.md   # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM
‚îÇ   ‚îú‚îÄ‚îÄ execution/         # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ run_manager.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —à–∞–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ action_execution_manager.py  # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ llm/               # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ llm_manager.py  # –ú–µ–Ω–µ–¥–∂–µ—Ä LLM –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ message_manager/   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ orchestration/     # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —à–∞–≥–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ step_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞–º–∏
‚îú‚îÄ‚îÄ session/               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ CDP
‚îÇ   ‚îú‚îÄ‚îÄ session.py         # CDP —Å–µ—Å—Å–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ session_manager.py # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Å—Å–∏–π –∏ —Ç–∞—Ä–≥–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ lifecycle_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –±—Ä–∞—É–∑–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ monitors/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (–∫–ª–∏–∫–∏, –≤–≤–æ–¥, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ watchdogs/         # Watchdogs –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ dom_processing/        # –†–∞–±–æ—Ç–∞ —Å DOM
‚îÇ   ‚îú‚îÄ‚îÄ manager.py         # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ DOM –¥–µ—Ä–µ–≤–∞ –∏–∑ CDP
‚îÇ   ‚îî‚îÄ‚îÄ serializer/        # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è DOM –¥–ª—è LLM
‚îú‚îÄ‚îÄ ai_models/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ openai/            # OpenAI API
‚îÇ   ‚îî‚îÄ‚îÄ anthropic/        # Anthropic API
‚îú‚îÄ‚îÄ actions/              # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞ (click, input, navigate –∏ —Ç.–¥.)
‚îÇ   ‚îú‚îÄ‚îÄ manager.py         # –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ models.py          # –ú–æ–¥–µ–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π
‚îî‚îÄ‚îÄ specialists/          # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ sub-–∞–≥–µ–Ω—Ç—ã
    ‚îî‚îÄ‚îÄ email_subagent.py  # –õ–æ–≥–∏–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—á—Ç–æ–≤—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á—É –∏ —Å–æ–∑–¥–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω—É—é —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ CDP
2. **–ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: 
   - –ü–æ–ª—É—á–∞–µ—Ç DOM –¥–µ—Ä–µ–≤–æ —á–µ—Ä–µ–∑ `DOM.getDocument` –∏ `DOMSnapshot.captureSnapshot`
   - –î–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç DOM –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è LLM
3. **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è**: LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (DOM + —Å–∫—Ä–∏–Ω—à–æ—Ç + –∏—Å—Ç–æ—Ä–∏—è) –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ
4. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –ê–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (click, input, navigate –∏ —Ç.–¥.)
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
6. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ê–≥–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–¥–∞—á—É –∫–æ–≥–¥–∞ LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `done: true`

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

- **Orchestrator** - –£–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—â–∏–º —Ü–∏–∫–ª–æ–º —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–µ–π –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **Execution** - –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞–º–∏
- **LLM Manager** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ LLM —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ retry
- **Message Manager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è LLM
- **Session** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏, CDP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- **Actions** - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–∞
- **DOM Processing** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è DOM –¥–µ—Ä–µ–≤–∞
- **Specialists** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ sub-–∞–≥–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á

–¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞

- `navigate` - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ URL
- `click` - –ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É (–ø–æ –∏–Ω–¥–µ–∫—Å—É –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º)
- `input` - –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ
- `extract` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `scroll` - –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `wait` - –û–∂–∏–¥–∞–Ω–∏–µ
- `click_text` - –ö–ª–∏–∫ –ø–æ –≤–∏–¥–∏–º–æ–º—É —Ç–µ–∫—Å—Ç—É (–¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞)
- `click_role` - –ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É —Å ARIA —Ä–æ–ª—å—é
- `request_user_input` - –ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è CAPTCHA, –ª–æ–≥–∏–Ω–æ–≤ –∏ —Ç.–¥.)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Chrome/Chromium –±—Ä–∞—É–∑–µ—Ä
- API –∫–ª—é—á –æ—Ç OpenAI –∏–ª–∏ Anthropic

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -e .
```

–ò–ª–∏ —á–µ—Ä–µ–∑ pip –Ω–∞–ø—Ä—è–º—É—é:

```bash
pip install aiohttp anyio bubus httpx pydantic python-dotenv typing-extensions uuid7 openai anthropic cdp-use pillow markdownify
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
OPENAI_API_KEY=your_openai_key_here
OPENAI_MODEL=gpt-4o  # –∏–ª–∏ gpt-4o-mini

# –ò–ª–∏
ANTHROPIC_API_KEY=your_anthropic_key_here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929  # –∏–ª–∏ claude-opus-4
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
python main_agent.py
```

–ê–≥–µ–Ω—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ, –≥–¥–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∑–∞–¥–∞—á–∏.

### –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ —Å –∑–∞–¥–∞—á–µ–π

```bash
python run_agent.py "–ü—Ä–æ—á–∏—Ç–∞–π –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–∏—Å–µ–º –≤ –ø–æ—á—Ç–µ –∏ —É–¥–∞–ª–∏ —Å–ø–∞–º"
```

–ò–ª–∏ —á–µ—Ä–µ–∑ `main_agent.py`:

```bash
python main_agent.py
# –í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

```bash
# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏
python main_agent.py --session my_session

# –í headless —Ä–µ–∂–∏–º–µ (–Ω–µ–≤–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä)
python main_agent.py --headless

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
python main_agent.py --session hh --headless
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

### –†–∞–±–æ—Ç–∞ —Å –ø–æ—á—Ç–æ–π

```
–ü—Ä–æ—á–∏—Ç–∞–π –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–∏—Å–µ–º –≤ –ø–æ—á—Ç–µ –∏ —É–¥–∞–ª–∏ —Å–ø–∞–º –∏–∑ –Ω–∏—Ö
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç**:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–ø–∏—Å–∫–∞ –ø–∏—Å–µ–º
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –ø–∏—Å—å–º–æ
4. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Å–ø–∞–º–∞
5. –£–¥–∞–ª—è–µ—Ç —Å–ø–∞–º-–ø–∏—Å—å–º–∞
6. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–∏—Å—å–º—É

### –†–∞–±–æ—Ç–∞ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏

```
–ò–∑—É—á–∏ –º–æ—ë —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ. –ó–∞—Ç–µ–º –Ω–∞–π–¥–∏ 3 –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ AI-–∏–Ω–∂–µ–Ω–µ—Ä–∞ –∏ –æ—Ç–∫–ª–∏–∫–Ω–∏—Å—å –Ω–∞ –Ω–∏—Ö —Å —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –ø–∏—Å—å–º–æ–º
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç**:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ —Å–∞–π—Ç–µ –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã
2. –ß–∏—Ç–∞–µ—Ç —Ä–µ–∑—é–º–µ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏
3. –ò—â–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É "AI-–∏–Ω–∂–µ–Ω–µ—Ä"
4. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –≤–∞–∫–∞–Ω—Å–∏—é –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
5. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–∞–∫–∞–Ω—Å–∏–∏
6. –ü–∏—à–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ
7. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–∫–ª–∏–∫

### –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–æ–º

```
–ó–∞–π–¥–∏ –Ω–∞ —Å–∞–π—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã –∏ –∑–∞–∫–∞–∂–∏ –º–Ω–µ –¥–æ–º–æ–π —Ç—Ä–∏ –±—É—Ä–≥–µ—Ä–∞ –∏ –∫–∞—Ä—Ç–æ—à–∫—É —Ñ—Ä–∏ –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç**:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
3. –ò—â–µ—Ç –±–ª–∏–∂–∞–π—à–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è
4. –ù–∞—Ö–æ–¥–∏—Ç –±—É—Ä–≥–µ—Ä—ã –∏ –∫–∞—Ä—Ç–æ—à–∫—É —Ñ—Ä–∏
5. –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É
6. –û—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑ (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–æ–º–æ—â—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø–ª–∞—Ç—ã)

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

```
–ù–∞–π–¥–∏ –Ω–∞ —Å–∞–π—Ç–µ example.com –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Å–æ—Ö—Ä–∞–Ω–∏ –µ—ë
```

```
–û—Ç–∫—Ä–æ–π google.com, –Ω–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Python –∏ —Ä–∞—Å—Å–∫–∞–∂–∏ —á—Ç–æ –Ω–∞—à—ë–ª
```

```
–ó–∞–π–¥–∏ –Ω–∞ GitHub, –Ω–∞–π–¥–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å AI –∏ –ø–æ–∫–∞–∂–∏ –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è
```

### –°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

```
–ò–∑—É—á–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ AI –Ω–∞ habr.com, –Ω–∞–π–¥–∏ 3 —Å–∞–º—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏ –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Å—Å—ã–ª–∫–∏
```

```
–ù–∞–π–¥–∏ –Ω–∞ —Å–∞–π—Ç–µ booking.com –æ—Ç–µ–ª–∏ –≤ –ú–æ—Å–∫–≤–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞, –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ —Ü–µ–Ω–µ –∏ –ø–æ–∫–∞–∂–∏ —Ç–æ–ø-5 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –†–∞–±–æ—Ç–∞ —Å DOM

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Chrome DevTools Protocol –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ DOM:

- **DOM.getDocument** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã DOM
- **DOMSnapshot.captureSnapshot** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (`is_clickable`)
- **DOM.getBoxModel** - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **Runtime.evaluate** - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JavaScript –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

### –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è DOM

DOM —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è LLM:

- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –∏–Ω–¥–µ–∫—Å—ã `[i_123]`
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (id, class, role, data-qa –∏ —Ç.–¥.)
- –¢–µ–∫—Å—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è –∏–∑ –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å `is_clickable=True` –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞—é—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–≤–∏–¥–∏–º—ã (–¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω)

### Sub-agents

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ sub-agents –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á:

- **EmailSubAgent**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—á—Ç–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∏—Å–µ–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ—á—Ç–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ SPA

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏:

- –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π (2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∫–ª–∏–∫–æ–≤, 0.5 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ DOM –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ DOM

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–∫–µ–Ω—ã API —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ (–Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `request_user_input` –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ª–æ–≥–∏–Ω—ã, CAPTCHA)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ `target="_blank"` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–æ–∫

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á

**–•–æ—Ä–æ—à–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏**:
- ‚úÖ "–ü—Ä–æ—á–∏—Ç–∞–π –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–∏—Å–µ–º –∏ —É–¥–∞–ª–∏ —Å–ø–∞–º"
- ‚úÖ "–ù–∞–π–¥–∏ 3 –≤–∞–∫–∞–Ω—Å–∏–∏ Python-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –æ—Ç–∫–ª–∏–∫–Ω–∏—Å—å"
- ‚úÖ "–ò–∑—É—á–∏ –º–æ–µ —Ä–µ–∑—é–º–µ –∏ –Ω–∞–π–¥–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏"

**–ü–ª–æ—Ö–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏**:
- ‚ùå "–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É X, –ø–æ—Ç–æ–º –Ω–∞ Y" (—Å–ª–∏—à–∫–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ)
- ‚ùå "–ò—Å–ø–æ–ª—å–∑—É–π —Å–µ–ª–µ–∫—Ç–æ—Ä #button" (—Ö–∞—Ä–¥–∫–æ–¥)
- ‚ùå "–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π URL" (–º–æ–∂–Ω–æ, –Ω–æ –ª—É—á—à–µ –æ–ø–∏—Å–∞—Ç—å –∑–∞–¥–∞—á—É)

### –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

- **–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏**: `gpt-4o-mini` (–±—ã—Å—Ç—Ä–æ, –¥–µ—à–µ–≤–æ)
- **–°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**: `gpt-4o` –∏–ª–∏ `claude-sonnet-4-5-20250929` (—Ç–æ—á–Ω–µ–µ)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏**: `claude-opus-4` (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ headless —Ä–µ–∂–∏–º** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –æ—Ç–ª–∞–¥–∫–∏
2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ max_steps** –µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏** –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cookies
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä DOM** - –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–º–µ–¥–ª—è—é—Ç —Ä–∞–±–æ—Ç—É

### –û—Ç–ª–∞–¥–∫–∞

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–∞
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `request_user_input`** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–∫–∞—Ö
4. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

## üéì –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### –ë–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞

–ê–≥–µ–Ω—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- ‚ùå –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- ‚ùå –•–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö URL
- ‚ùå –ü–æ—à–∞–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚ùå –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∞–π—Ç–æ–≤

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- ‚úÖ –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç DOM –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–µ –∑–Ω–∞–Ω–∏—è –æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
- ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –ª—é–±–æ–º—É —Å–∞–π—Ç—É

### –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å

–ê–≥–µ–Ω—Ç —Å–ø–æ—Å–æ–±–µ–Ω:
- –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–º–æ—â—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ê–≥–µ–Ω—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ:

```python
import asyncio
from core import Agent, Browser, ChatOpenAI, ChatAnthropic
from core.session.profile import BrowserProfile

async def run_custom_task():
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LLM
    llm = ChatOpenAI(
        model='gpt-4o-mini',
        api_key='your-api-key'
    )
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
    browser_profile = BrowserProfile(
        storage_state='./my_session.json',
        user_data_dir=None
    )
    
    browser = Browser(
        headless=False,
        browser_profile=browser_profile
    )
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞
    agent = Agent(
        task="–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Python –Ω–∞ Wikipedia",
        llm=llm,
        browser=browser,
        use_vision=True,
        max_actions_per_step=3
    )
    
    # –ó–∞–ø—É—Å–∫
    result = await agent.run(max_steps=50)
    
    # –†–µ–∑—É–ª—å—Ç–∞—Ç
    if result.is_successful():
        print("–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
        print(result.final_result())
    
    await browser.close()

# –ó–∞–ø—É—Å–∫
asyncio.run(run_custom_task())
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ sub-agents

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏ sub-agents –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:

```python
from core.specialists.email_subagent import EmailSubAgent
from core.session.models import BrowserStateSummary

class CustomSubAgent:
    def is_special_page(self, browser_state: BrowserStateSummary) -> bool:
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        return 'special-site.com' in browser_state.url
    
    def provide_context(self, browser_state: BrowserStateSummary) -> str:
        # –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM
        return "–≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π..."
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
# LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω –∏–∑)
OPENAI_API_KEY=your_key
OPENAI_MODEL=gpt-4o  # gpt-4o, gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

ANTHROPIC_API_KEY=your_key
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929  # claude-sonnet-4-5-20250929, claude-opus-4

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
AGENT_MAX_STEPS=50  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
AGENT_USE_VISION=true  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å vision –º–æ–¥–µ–ª—å (true/false)
AGENT_MAX_ACTIONS_PER_STEP=3  # –ú–∞–∫—Å–∏–º—É–º –¥–µ–π—Å—Ç–≤–∏–π –∑–∞ —à–∞–≥
AGENT_HEADLESS=false  # Headless —Ä–µ–∂–∏–º (true/false)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏:

- **GPT-4o-mini**: 30 —Å–µ–∫—É–Ω–¥
- **GPT-4o**: 60 —Å–µ–∫—É–Ω–¥
- **Claude Sonnet**: 90 —Å–µ–∫—É–Ω–¥
- **Claude Opus**: 120 —Å–µ–∫—É–Ω–¥

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DOM —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏–∫ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞**: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–∏–¥–∏–º–æ—Å—Ç–∏**: –ü–æ–∫–∞–∑ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫—Ä–æ–º–µ `is_clickable=True`)
4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- **DOM –∫—ç—à**: –û—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è SPA
- **Clickable detection –∫—ç—à**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **Snapshot lookup**: –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | –°–∫–æ—Ä–æ—Å—Ç—å | –¢–æ—á–Ω–æ—Å—Ç—å | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|----------|----------|-----------|
| GPT-4o-mini | ‚ö°‚ö°‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | üí∞ |
| GPT-4o | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | üí∞üí∞üí∞ |
| Claude Sonnet 4.5 | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | üí∞üí∞ |
| Claude Opus 4 | ‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | üí∞üí∞üí∞üí∞ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–¥–∞—á: `gpt-4o-mini`
- –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á: `gpt-4o` –∏–ª–∏ `claude-sonnet-4-5-20250929`
- –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏: `claude-opus-4`

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≥–µ–Ω—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–Ω–æ–ø–∫—É

**–°–∏–º–ø—Ç–æ–º—ã**: –ê–≥–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∫–ª–∏–∫–Ω—É—Ç—å, –Ω–æ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∏–º –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `click_text` –∏–ª–∏ `click_role` –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –≤–æ–∑–º–æ–∂–Ω–æ —ç–ª–µ–º–µ–Ω—Ç —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –∫–∞–∫ –Ω–µ–≤–∏–¥–∏–º—ã–π
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç `is_clickable=True` –≤ DOMSnapshot

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≥–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–∫–ª–∞–¥–∫–∏

**–°–∏–º–ø—Ç–æ–º—ã**: –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ –≤–º–µ—Å—Ç–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ**: –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç `target="_blank"` –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `window.open()`. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏.

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–°–∏–º–ø—Ç–æ–º—ã**: –ê–≥–µ–Ω—Ç –¥–æ–ª–≥–æ –¥—É–º–∞–µ—Ç –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏

**–†–µ—à–µ–Ω–∏—è**:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å (`gpt-4o-mini`)
2. –£–º–µ–Ω—å—à–∏—Ç–µ `max_actions_per_step` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä DOM - –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–º–µ–¥–ª—è—é—Ç –∞–Ω–∞–ª–∏–∑
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ headless —Ä–µ–∂–∏–º –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 429 (Rate Limit)

**–°–∏–º–ø—Ç–æ–º—ã**: `Error code: 429 - Rate limit exceeded`

**–†–µ—à–µ–Ω–∏—è**:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å (–º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤)
2. –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤–∞—à–µ–≥–æ API –∫–ª—é—á–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (OpenAI ‚Üî Anthropic)

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≥–µ–Ω—Ç –∑–∞—Å—Ç—Ä—è–ª –≤ —Ü–∏–∫–ª–µ

**–°–∏–º–ø—Ç–æ–º—ã**: –ê–≥–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–µ–π—Å—Ç–≤–∏—è

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –≤–æ–∑–º–æ–∂–Ω–æ –∞–≥–µ–Ω—Ç –Ω–µ –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
2. –£–≤–µ–ª–∏—á—å—Ç–µ `wait_time` –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è SPA
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `request_user_input` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞ (Ctrl+C) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–°–∏–º–ø—Ç–æ–º—ã**: –ê–≥–µ–Ω—Ç –∫–ª–∏–∫–∞–µ—Ç –Ω–µ —Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é DOM –≤ –ª–æ–≥–∞—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–∫—Å—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—É—é –º–æ–¥–µ–ª—å (GPT-4o –∏–ª–∏ Claude)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ `selector_map`

## üìñ –î–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã —Å DOM

### –ü—Ä–æ—Ü–µ—Å—Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ DOM**: `DOM.getDocument` + `DOMSnapshot.captureSnapshot`
2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞**: –°–æ–∑–¥–∞–Ω–∏–µ `EnhancedDOMTreeNode` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–£–ø—Ä–æ—â–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ bounding box
5. **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è LLM

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–≠–ª–µ–º–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –µ—Å–ª–∏:
- –ò–º–µ–µ—Ç `is_clickable=True` –∏–∑ DOMSnapshot (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- –Ø–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º (`<a>`, `<button>`, `<input>`)
- –ò–º–µ–µ—Ç ARIA —Ä–æ–ª—å (`role="button"`, `role="link"` –∏ —Ç.–¥.)
- –ò–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

### –†–∞–±–æ—Ç–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∫–ª–∏–∫–∞—Ç—å –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –µ—Å–ª–∏:
- –≠–ª–µ–º–µ–Ω—Ç –≤–∏–¥–µ–Ω –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ, –Ω–æ –Ω–µ –∏–º–µ–µ—Ç –∏–Ω–¥–µ–∫—Å–∞
- –ö–ª–∏–∫ –ø–æ –∏–Ω–¥–µ–∫—Å—É –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
- LLM —è–≤–Ω–æ —É–∫–∞–∑–∞–ª –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≤–∏–¥–∏–º–æ–≥–æ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞.

## üß© Sub-agents –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### EmailSubAgent

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—á—Ç–æ–≤—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏:

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–∏—Å–µ–º (—Ç–µ–º–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å, –¥–∞—Ç–∞, –ø—Ä–µ–≤—å—é)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–∏—Å–µ–º
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ—á—Ç–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```python
from core.specialists.email_subagent import EmailSubAgent

email_subagent = EmailSubAgent()

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—á—Ç–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º
if email_subagent.is_email_client(browser_state):
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
    metadata = email_subagent.extract_email_metadata(browser_state)
    print(f"–¢–µ–º–∞: {metadata['subject']}")
    print(f"–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å: {metadata['sender']}")
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ sub-agent

```python
from core.session.models import BrowserStateSummary

class MySubAgent:
    def is_special_context(self, browser_state: BrowserStateSummary) -> bool:
        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        return False
    
    def provide_context(self, browser_state: BrowserStateSummary) -> str:
        # –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM
        return ""
    
    def extract_metadata(self, browser_state: BrowserStateSummary) -> dict:
        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
        return {}
```

## üîÑ Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã

### LLM –∑–∞–ø—Ä–æ—Å—ã

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ LLM:

- **429 (Rate Limit)**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- **500+ –æ—à–∏–±–∫–∏**: Retry –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏
- **400-499 –æ—à–∏–±–∫–∏**: –§–∞—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å)

### –î–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

- **–ù–µ—É–¥–∞—á–Ω—ã–π –∫–ª–∏–∫**: –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, JavaScript)
- **–¢–∞–π–º–∞—É—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
- **–≠–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω**: Fallback –Ω–∞ `click_text` –∏–ª–∏ `click_role`

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **INFO**: –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (—à–∞–≥–∏, –¥–µ–π—Å—Ç–≤–∏—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- **WARNING**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (—ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, fallback –º–µ—Ç–æ–¥—ã)
- **ERROR**: –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **DEBUG**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª:

```python
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞
logging.basicConfig(
    filename='agent.log',
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

## üé® –†–∞–±–æ—Ç–∞ —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏

–ê–≥–µ–Ω—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞:

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å `role="dialog"` –∏–ª–∏ `role="alertdialog"`
2. **–í–∏–¥–∏–º–æ—Å—Ç—å**: –≠–ª–µ–º–µ–Ω—Ç—ã —Å `is_clickable=True` –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞—é—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–≤–∏–¥–∏–º—ã
3. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**: –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ —á–µ—Ä–µ–∑ Escape –∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –¥–∏–∞–ª–æ–≥–æ–º

```python
# –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∏–∞–ª–æ–≥–∏
# –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é LLM –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è
# LLM –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å: –∑–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥, –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É, –∏–ª–∏ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω—ã–µ React/Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∫–ª–∏–∫–∞
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏–Ω–æ–≥–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –Ω–µ–≤–∏–¥–∏–º—ã–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ `is_clickable`)
- –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –∞–Ω–∞–ª–∏–∑ DOM
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∞–π—Ç—ã –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é (CAPTCHA, Cloudflare)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–∑—É –ø–æ—è–≤–∏—Ç—å—Å—è –≤ DOM

## üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:
- **Cookies**: –í—Å–µ cookies –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- **localStorage**: –î–∞–Ω–Ω—ã–µ localStorage –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞
- **sessionStorage**: –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞)

### –§–∞–π–ª—ã —Å–µ—Å—Å–∏–π

–°–µ—Å—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON —Ñ–∞–π–ª—ã:
- `default_storage_state.json` - –°–µ—Å—Å–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `{session_name}_storage_state.json` - –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏

### –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Å—Å–∏—è–º–∏

```bash
# –†–∞–∑–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
python main_agent.py --session mail_session
python main_agent.py --session hh
python main_agent.py --session eda
```

–ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ–∏ cookies –∏ localStorage –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

### –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π

–î–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–∏ –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π JSON —Ñ–∞–π–ª:

```bash
rm default_storage_state.json
```

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏

### Playwright/Selenium

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –≠—Ç–æ—Ç –∞–≥–µ–Ω—Ç | Playwright/Selenium |
|-------------|------------|---------------------|
| –°–µ–ª–µ–∫—Ç–æ—Ä—ã | –ù–µ –Ω—É–∂–Ω—ã | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã |
| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è | –¢—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ |
| –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –†—É—á–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –†–∞–±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ —Å–∞–π—Ç–∞–º–∏ | –°—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞–µ—Ç | –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ |

### –î—Ä—É–≥–∏–µ AI-–∞–≥–µ–Ω—Ç—ã

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –≠—Ç–æ—Ç –∞–≥–µ–Ω—Ç | –î—Ä—É–≥–∏–µ —Ä–µ—à–µ–Ω–∏—è |
|-------------|------------|----------------|
| Vision –º–æ–¥–µ–ª—å | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| Sub-agents | ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã | –ù–µ –≤—Å–µ–≥–¥–∞ |
| CDP –Ω–∞–ø—Ä—è–º—É—é | ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å | –ß–∞—Å—Ç–æ —á–µ—Ä–µ–∑ –æ–±–µ—Ä—Ç–∫–∏ |
| –ë–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ | ‚úÖ –°—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |

## ‚ùì FAQ

### –ö–∞–∫ –∞–≥–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å?

–ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:
1. DOM —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –°–∫—Ä–∏–Ω—à–æ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. –ò—Å—Ç–æ—Ä–∏—é –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
4. –ó–∞–¥–∞—á—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ LLM –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–π—Å—Ç–≤–∏–∏.

### –ü–æ—á–µ–º—É –∞–≥–µ–Ω—Ç –∏–Ω–æ–≥–¥–∞ –∫–ª–∏–∫–∞–µ—Ç –Ω–µ —Ç—É–¥–∞?

–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –µ—Å–ª–∏:
- –≠–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø–æ—Ö–æ–∂–∏–π —Ç–µ–∫—Å—Ç
- –≠–ª–µ–º–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞

–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—É—é –º–æ–¥–µ–ª—å –∏–ª–∏ —É—Ç–æ—á–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É.

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?

–î–∞, –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è:
- E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–ù–æ —É—á—Ç–∏—Ç–µ, —á—Ç–æ –∞–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ö–∞–∫ –∞–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç CAPTCHA?

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `request_user_input` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ CAPTCHA. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å CAPTCHA –≤—Ä—É—á–Ω—É—é, –ø–æ—Å–ª–µ —á–µ–≥–æ –∞–≥–µ–Ω—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É.

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–∞ –±–µ–∑ API –∫–ª—é—á–∞?

–ù–µ—Ç, –∞–≥–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á –æ—Ç OpenAI –∏–ª–∏ Anthropic –¥–ª—è —Ä–∞–±–æ—Ç—ã LLM.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –∞–≥–µ–Ω—Ç –¥—Ä—É–≥–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã?

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –∞–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å Chrome/Chromium —á–µ—Ä–µ–∑ CDP. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –≤–æ–∑–º–æ–∂–Ω–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üöÄ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI –∏ Anthropic
- ‚úÖ Vision –º–æ–¥–µ–ª—å –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ Sub-agents –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Persistent sessions

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- üî≤ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Gemini, Llama –∏ —Ç.–¥.)
- üî≤ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- üî≤ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–¥–∞—á
- üî≤ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏–±—Ä–∞—É–∑–µ—Ä–Ω–æ—Å—Ç–∏ (Firefox, Safari)
- üî≤ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–º
- üî≤ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ sub-agents –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∞–π—Ç–æ–≤
- üî≤ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìö –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- `cdp-use` - –†–∞–±–æ—Ç–∞ —Å Chrome DevTools Protocol
- `openai` / `anthropic` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- `pydantic` - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `pillow` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- `aiohttp` / `httpx` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- `bubus` - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—Ä–∞—É–∑–µ—Ä–æ–º
- `markdownify` - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HTML –≤ Markdown

## üèõÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

- `main_agent.py` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- `run_agent.py` - –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ —Å –∑–∞–¥–∞—á–µ–π
- `core/orchestrator/manager.py` - –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∞–≥–µ–Ω—Ç–∞ (Plan-and-Execute)
- `core/orchestrator/prompts.py` - –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `core/orchestrator/system_prompt.md` - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM
- `core/session/session.py` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ CDP
- `core/dom_processing/serializer/serializer.py` - –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è DOM –¥–ª—è LLM
- `core/actions/manager.py` - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞

### –ö–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone <URL_–í–ê–®–ï–ì–û_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø>
   cd agent-refactored
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   pip install -e .
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
   ```bash
   cp .env.example .env
   # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ API –∫–ª—é—á–∏
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã** (–µ—Å–ª–∏ –µ—Å—Ç—å)
   ```bash
   pytest tests/
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –≤ `core/actions/models.py`:
   ```python
   class MyAction(BaseModel):
       param1: str
       param2: int
   ```

2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ `core/actions/manager.py`:
   ```python
   @self.registry.action('–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è', param_model=MyAction)
   async def my_action(params: MyAction, browser_session: ChromeSession):
       # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
       return ExecutionResult(extracted_content="–†–µ–∑—É–ª—å—Ç–∞—Ç")
   ```

3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≤ `core/orchestrator/system_prompt.md` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ sub-agent

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å –≤ `core/specialists/`:
   ```python
   from core.session.models import BrowserStateSummary
   
   class MySubAgent:
       def is_special_context(self, browser_state: BrowserStateSummary) -> bool:
           # –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
           return False
       
       def provide_context(self, browser_state: BrowserStateSummary) -> str:
           # –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM
           return ""
   ```

2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ `core/orchestrator/manager.py`:
   ```python
   self.my_subagent = MySubAgent()
   ```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö —á–µ—Ä–µ–∑ `core/orchestrator/prompts.py`

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö AI-–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥:
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (–±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞!)
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º API –∫–ª—é—á –æ—Ç –ª—é–±–æ–π –ò–ò. –ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ª—É—á—à–µ–π –æ—Ç–ª–∞–¥–∫–∏, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç headless —Ä–µ–∂–∏–º.

